<div [ngClass]="(isMobilePhone)? 'mobile-subtitle-margin': 'normal-subtitle-margin'" class="subtitle-container">
  <h1 class="subtitle">
    {{user.firstName}} {{user.lastName}}
  </h1>
</div>
<div class="profile" *ngIf="user.username">
  <mat-card class="info-card" *ngIf="!isMobilePhone">
    <mat-card-header>
      <mat-card-title>{{user.firstName}} {{user.lastName}}</mat-card-title>
      <mat-card-subtitle *ngIf="(presenceService.onlineUsers$ | async)?.includes(user.username)"> <span class="online"></span> Active now</mat-card-subtitle>
    <!-- Foramt the last time online -->
    <mat-card-subtitle *ngIf="!(presenceService.onlineUsers$ | async)?.includes(user.username)">{{getDateTimeAgo(user.lastActive)}}</mat-card-subtitle>
    </mat-card-header>
    <img mat-card-image src="{{profilePicture?.url || './assets/Pictures/profile-placeholder.png'}}" 
    alt="profile picture">
    <mat-card-content>
        <div>
          <strong>Location:</strong>
          <p>{{user.city}}, {{user.country}}</p>
        </div>
        <div>
          <strong>Age:</strong>
          <p>{{user.age}}</p>
        </div>
        <div>
          <strong>Member since:</strong>
          <p>{{getLoacaleDateTime(user.created) | date}}</p>
        </div>

    </mat-card-content>
    <mat-card-actions class="d-block text-center">
      <button mat-flat-button color="accent" *ngIf="!isLiked" (click)="addLike()">
        <i class="material-icons me-1">person_add_alt_1</i> Add friend
      </button>
      <button mat-flat-button color="primary" *ngIf="isMatch" routerLink="/chat" [state]="user">
        <mat-icon>chat</mat-icon> Message
      </button>
    </mat-card-actions>
  </mat-card>
  <mat-tab-group mat-align-tabs="center" class="tabs">
    <mat-tab label="About"> 
      <div class="mt-4" *ngIf="user.bio">
      <h2>Bio</h2>
      <p>{{user.bio}}</p>
    </div>
    <div class="mt-4">
      <h2>Interested in</h2>
      <p>{{formatInterest(user.interest)}}</p>
    </div></mat-tab>
    <mat-tab class="gallery" label="Gallery">
      <!-- @todo gallery needed -->
    </mat-tab>
  </mat-tab-group>
</div>
